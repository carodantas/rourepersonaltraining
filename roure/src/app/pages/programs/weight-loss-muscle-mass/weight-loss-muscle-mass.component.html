<!-- Hero Section -->
<section class="program-hero" aria-labelledby="program-hero-title">
  <div class="hero-decoration" aria-hidden="true"></div>
  <div class="hero-container">
    <h1 id="program-hero-title" class="hero-title display-1">
      {{ 'programs.weightLoss.hero.titleLine1' | translate }}<br />
      {{ 'programs.weightLoss.hero.titleLine2' | translate }}
    </h1>
    <p class="hero-subtitle featured-3">
      {{ 'programs.weightLoss.hero.subtitle' | translate }}
    </p>
    <div class="hero-actions">
      <app-button-primary-glass type="button" (clicked)="goToFreeIntake()">
        {{ 'programs.weightLoss.hero.ctaPrimary' | translate }}
      </app-button-primary-glass>
      <app-button-primary-glass type="button" variant="secondary" (clicked)="goToPrograms()">
        {{ 'programs.weightLoss.hero.ctaSecondary' | translate }}
      </app-button-primary-glass>
    </div>
  </div>
</section>

<!-- What this program is about -->
<section class="program-about" aria-labelledby="program-about-title">
  <div class="container">
    <div class="program-about-content">
      <div class="program-about-text">
        <h2 id="program-about-title" class="section-title headline-1">{{ 'programs.weightLoss.about.title' | translate }}</h2>
        <p class="section-intro body-1">
          {{ 'programs.weightLoss.about.intro' | translate }}
        </p>
        <p class="section-body body-1">
          {{ 'programs.weightLoss.about.p1' | translate }}
        </p>
        <p class="section-body body-1">
          {{ 'programs.weightLoss.about.p2' | translate }}
        </p>
        <ul class="program-features-list">
          <li class="feature-item body-1">{{ 'programs.weightLoss.about.features.0' | translate }}</li>
          <li class="feature-item body-1">{{ 'programs.weightLoss.about.features.1' | translate }}</li>
          <li class="feature-item body-1">{{ 'programs.weightLoss.about.features.2' | translate }}</li>
          <li class="feature-item body-1">{{ 'programs.weightLoss.about.features.3' | translate }}</li>
        </ul>
      </div>
      <div class="program-about-media">
        <div class="media-placeholder">
          <img src="images/weight-loss-about.jpg" [attr.alt]="'programs.weightLoss.about.imageAlt' | translate" class="content-image" />
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Who this is for -->
<section class="program-who" aria-labelledby="program-who-title">
  <div class="container">
    <h2 id="program-who-title" class="section-title headline-1">{{ 'programs.weightLoss.who.title' | translate }}</h2>
    <div class="who-grid">
      <div class="who-item">
        <div class="who-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 6L9 17l-5-5"></path>
          </svg>
        </div>
        <p class="who-text body-1">{{ 'programs.weightLoss.who.items.0' | translate }}</p>
      </div>
      <div class="who-item">
        <div class="who-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 6L9 17l-5-5"></path>
          </svg>
        </div>
        <p class="who-text body-1">{{ 'programs.weightLoss.who.items.1' | translate }}</p>
      </div>
      <div class="who-item">
        <div class="who-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 6L9 17l-5-5"></path>
          </svg>
        </div>
        <p class="who-text body-1">{{ 'programs.weightLoss.who.items.2' | translate }}</p>
      </div>
    </div>
  </div>
</section>

<!-- How we work -->
<section class="program-how" aria-labelledby="program-how-title">
  <div class="container">
    <h2 id="program-how-title" class="section-title headline-1">{{ 'programs.weightLoss.how.title' | translate }}</h2>
    <div class="how-grid">
      <div class="how-item">
        <div class="how-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 6L9 17l-5-5"></path>
          </svg>
        </div>
        <p class="how-text body-1">{{ 'programs.weightLoss.how.items.0' | translate }}</p>
      </div>
      <div class="how-item">
        <div class="how-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 6L9 17l-5-5"></path>
          </svg>
        </div>
        <p class="how-text body-1">{{ 'programs.weightLoss.how.items.1' | translate }}</p>
      </div>
      <div class="how-item">
        <div class="how-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 6L9 17l-5-5"></path>
          </svg>
        </div>
        <p class="how-text body-1">{{ 'programs.weightLoss.how.items.2' | translate }}</p>
      </div>
    </div>
  </div>
</section>

<!-- Feedback/Testimonials Section -->
<section class="program-feedback" aria-labelledby="program-feedback-title">
  <div class="container">
    <div class="feedback-header">
      <span class="feedback-kicker small-1">{{ 'programs.weightLoss.feedback.kicker' | translate }}</span>
      <h2 id="program-feedback-title" class="section-title headline-1">{{ 'programs.weightLoss.feedback.title' | translate }}</h2>
      <p class="feedback-subtitle featured-3">{{ 'programs.weightLoss.feedback.subtitle' | translate }}</p>
    </div>
    <div class="testimonials-content">
      <div class="testimonial-item">
        <div class="testimonial-content">
          <div class="testimonial-card">
            <div class="testimonial-header">
              <p class="testimonial-name strong-2">{{ currentTestimonial.name }}</p>
              <div class="testimonial-rating">
                <div class="stars">
                  @for (star of [1, 2, 3, 4, 5]; track star) {
                    <svg width="20" height="20" viewBox="0 0 24 24" [attr.fill]="star <= currentTestimonial.rating ? 'currentColor' : 'none'" stroke="currentColor" stroke-width="1.5">
                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                  </svg>
                  }
                </div>
              </div>
            </div>
            <div class="testimonial-text-wrapper" [class.expanded]="expandedTestimonials[currentTestimonial.id]">
              <p class="testimonial-text body-2">
                {{ currentTestimonial.textKey | translate }}
              </p>
              <div class="testimonial-text-expanded">
                @for (paragraph of currentTestimonial.expandedText; track $index) {
                <p class="testimonial-text body-2">
                    {{ paragraph | translate }}
                </p>
                }
              </div>
            </div>
            <button class="read-more-btn small-1" (click)="toggleTestimonial(currentTestimonial.id)">
              {{
                expandedTestimonials[currentTestimonial.id]
                  ? ('programs.weightLoss.feedback.readLess' | translate)
                  : ('programs.weightLoss.feedback.readMore' | translate)
              }}
            </button>
          </div>
        </div>
        <div class="testimonial-images">
          <div class="before-after-images">
            <div class="before-image">
              <img [src]="currentTestimonial.beforeImage" [attr.alt]="'programs.weightLoss.feedback.imageAlt' | translate" />
            </div>
            <div class="after-image">
              <img [src]="currentTestimonial.afterImage" [attr.alt]="'programs.weightLoss.feedback.imageAlt' | translate" />
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Navigation Arrows -->
    <button 
      type="button"
      class="nav-arrow nav-arrow-left"
      (click)="prevTestimonial()"
      [attr.aria-label]="'programs.weightLoss.feedback.prevAria' | translate"
    >
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="15 18 9 12 15 6"></polyline>
      </svg>
    </button>
    
    <button 
      type="button"
      class="nav-arrow nav-arrow-right"
      (click)="nextTestimonial()"
      [attr.aria-label]="'programs.weightLoss.feedback.nextAria' | translate"
    >
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </button>

    <!-- Pagination Dots -->
    <div class="pagination-dots">
      @for (testimonial of testimonials; track $index) {
        <button
          type="button"
          class="pagination-dot"
          [class.active]="currentIndex === $index"
          (click)="goToTestimonial($index)"
          [attr.aria-label]="('programs.weightLoss.feedback.goToAriaPrefix' | translate) + ' ' + ($index + 1)"
        ></button>
      }
    </div>
  </div>
</section>

<!-- Important to know -->
<section class="program-important" aria-labelledby="program-important-title">
  <div class="container">
    <div class="important-content">
      <h2 id="program-important-title" class="section-title headline-1">{{ 'programs.weightLoss.important.title' | translate }}</h2>
      <div class="important-text body-1">
        <p>{{ 'programs.weightLoss.important.p1' | translate }}</p>
        <p>{{ 'programs.weightLoss.important.p2' | translate }}</p>
      </div>
    </div>
  </div>
</section>

<!-- Body Analysis & Progress Tracking -->
<section class="program-analysis" aria-labelledby="program-analysis-title">
  <div class="container">
    <div class="analysis-content">
      <div class="analysis-text">
        <h2 id="program-analysis-title" class="section-title headline-1">{{ 'programs.weightLoss.analysis.title' | translate }}</h2>
        <p class="section-body body-1">
          {{ 'programs.weightLoss.analysis.p1' | translate }}
        </p>
        <p class="section-body body-1">{{ 'programs.weightLoss.analysis.p2' | translate }}</p>
        <ul class="analysis-list">
          <li class="analysis-item body-1">{{ 'programs.weightLoss.analysis.items.0' | translate }}</li>
          <li class="analysis-item body-1">{{ 'programs.weightLoss.analysis.items.1' | translate }}</li>
          <li class="analysis-item body-1">{{ 'programs.weightLoss.analysis.items.2' | translate }}</li>
          <li class="analysis-item body-1">{{ 'programs.weightLoss.analysis.items.3' | translate }}</li>
        </ul>
        <p class="section-body body-1">
          {{ 'programs.weightLoss.analysis.p3' | translate }}
        </p>
      </div>
      <div class="analysis-media">
        <div class="media-placeholder">
          <img src="images/body-analysis-and-tracking.jpg" [attr.alt]="'programs.weightLoss.analysis.imageAlt' | translate" class="content-image" />
        </div>
      </div>
    </div>
  </div>
</section>

<!-- CTA Section -->
<section class="program-cta" aria-labelledby="program-cta-title">
  <div class="container">
    <div class="cta-content">
      <h2 id="program-cta-title" class="cta-title headline-1">{{ 'programs.weightLoss.cta.title' | translate }}</h2>
      <app-button-primary-glass type="button" (clicked)="goToFreeIntake()">
        {{ 'programs.weightLoss.cta.cta' | translate }}
      </app-button-primary-glass>
    </div>
  </div>
</section>

