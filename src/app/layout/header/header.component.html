<header class="header">
  <div class="header-container">
    <button class="logo-button" type="button" (click)="scrollToSection('home')" aria-label="Back to home">
      @if (!logoError) {
        <img 
          src="/images/logo_white.png" 
          alt="ROURE Personal Training" 
          class="logo-image"
          (error)="onLogoError()"
        />
      }
      @if (logoError) {
        <span class="logo-text">
          <span class="logo-wordmark">ROURE</span>
          <span class="logo-caption">Personal Training</span>
        </span>
      }
    </button>
    <button
      type="button"
      class="cta-button"
      (click)="scrollToSection('free-intake')"
    >
      Free intake
    </button>
    <button
      class="menu-toggle"
      type="button"
      (click)="toggleMobileMenu()"
      [attr.aria-expanded]="isMobileMenuOpen"
      aria-label="Toggle navigation menu"
      aria-controls="dropdown-navigation"
    >
      <span class="hamburger-line" [class.active]="isMobileMenuOpen"></span>
      <span class="hamburger-line" [class.active]="isMobileMenuOpen"></span>
      <span class="hamburger-line" [class.active]="isMobileMenuOpen"></span>
    </button>
  </div>
  
  <!-- Dropdown Menu Estilo Luna -->
  @if (isMobileMenuOpen) {
    <div class="dropdown-menu">
      <nav class="dropdown-menu-nav" id="dropdown-navigation" aria-label="Main Navigation">
        <ul class="dropdown-nav-list">
          @for (item of navigationItems; track item.anchor) {
            <li class="dropdown-nav-item">
              <button
                type="button"
                class="dropdown-nav-link"
                (click)="scrollToSection(item.anchor)"
                [class.active]="activeAnchor === item.anchor"
                [attr.aria-current]="activeAnchor === item.anchor ? 'page' : null"
              >
                {{ item.label }}
              </button>
            </li>
          }
        </ul>

        <ul class="dropdown-nav-list dropdown-nav-actions">
          @for (action of actionItems; track action.anchor) {
            <li class="dropdown-nav-item">
              <button
                type="button"
                class="dropdown-nav-link dropdown-nav-action"
                (click)="scrollToSection(action.anchor)"
              >
                {{ action.label }}
                @if (action.showArrow) {
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="action-arrow">
                    <circle cx="12" cy="12" r="10"></circle>
                    <polyline points="12 16 16 12 12 8"></polyline>
                    <line x1="8" y1="12" x2="16" y2="12"></line>
                  </svg>
                }
              </button>
            </li>
          }
        </ul>
      </nav>
    </div>
  }
</header>

