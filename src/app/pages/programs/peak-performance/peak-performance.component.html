<!-- Hero Section -->
<section class="program-hero" aria-labelledby="program-hero-title">
  <div class="hero-decoration" aria-hidden="true"></div>
  <div class="hero-container">
    <h1 id="program-hero-title" class="hero-title display-1">
      Peak<br />
      Performance
    </h1>
    <p class="hero-subtitle featured-3">
      This program focuses on improving movement quality, strength, energy, and long-term resilience.
    </p>
    <div class="hero-actions">
      <app-button-primary-glass type="button" (clicked)="goToFreeIntake()">
        Book free intake
      </app-button-primary-glass>
      <app-button-primary-glass type="button" variant="secondary" (clicked)="goToPrograms()">
        Explore programs
      </app-button-primary-glass>
    </div>
  </div>
</section>

<!-- What this program is about -->
<section class="program-about" aria-labelledby="program-about-title">
  <div class="container">
    <div class="program-about-content">
      <div class="program-about-text">
        <h2 id="program-about-title" class="section-title headline-1">What this program is about</h2>
        <p class="section-intro body-1">
          This program focuses on improving movement quality, strength, energy, and long-term resilience.
        </p>
        <p class="section-body body-1">
          We focus on:
        </p>
        <ul class="program-features-list">
          <li class="feature-item body-1">Functional strength</li>
          <li class="feature-item body-1">Mobility and joint health</li>
          <li class="feature-item body-1">Recovery and stress management</li>
          <li class="feature-item body-1">Long-term consistency</li>
        </ul>
      </div>
      <div class="program-about-media">
        <div class="media-placeholder">
          <img src="images/why-peak-performance.jpg" alt="Peak performance training" class="content-image" />
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Who this is for -->
<section class="program-who" aria-labelledby="program-who-title">
  <div class="container">
    <h2 id="program-who-title" class="section-title headline-1">Who this is for</h2>
    <div class="who-grid">
      <div class="who-item">
        <div class="who-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 6L9 17l-5-5"></path>
          </svg>
        </div>
        <p class="who-text body-1">People returning to training</p>
      </div>
      <div class="who-item">
        <div class="who-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 6L9 17l-5-5"></path>
          </svg>
        </div>
        <p class="who-text body-1">Anyone focused on long-term health</p>
      </div>
      <div class="who-item">
        <div class="who-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 6L9 17l-5-5"></path>
          </svg>
        </div>
        <p class="who-text body-1">Those wanting to prevent injuries</p>
      </div>
    </div>
  </div>
</section>

<!-- How we work -->
<section class="program-how" aria-labelledby="program-how-title">
  <div class="container">
    <h2 id="program-how-title" class="section-title headline-1">How we work</h2>
    <div class="how-grid">
      <div class="how-item">
        <div class="how-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 6L9 17l-5-5"></path>
          </svg>
        </div>
        <p class="how-text body-1">Personal training adapted to your lifestyle</p>
      </div>
      <div class="how-item">
        <div class="how-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 6L9 17l-5-5"></path>
          </svg>
        </div>
        <p class="how-text body-1">Focus on movement quality and recovery</p>
      </div>
      <div class="how-item">
        <div class="how-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 6L9 17l-5-5"></path>
          </svg>
        </div>
        <p class="how-text body-1">Sustainable training frequency</p>
      </div>
    </div>
  </div>
</section>

<!-- Feedback/Testimonials Section -->
<section class="testimonials" aria-labelledby="program-feedback-title">
  <div class="testimonials-container">
    <div class="feedback-header">
      <span class="feedback-kicker small-1">CLIENT REVIEWS</span>
      <h2 id="program-feedback-title" class="testimonials-title headline-1">Real transformations from people like you</h2>
      <p class="feedback-subtitle featured-3">See what's possible when you commit to your goals</p>
    </div>
    
    <div class="testimonials-content">
      @for (testimonial of currentTestimonials; track $index) {
        @let testimonialIndex = getTestimonialIndex(currentPage, $index);
        @let expanded = isExpanded(testimonialIndex);
        @let needsTruncate = needsTruncation(testimonial.text);
        <div class="testimonial-card">
          <div class="testimonial-header">
            <p class="testimonial-name strong-2">{{ testimonial.author }}</p>
            <div class="testimonial-rating">
              <div class="stars">
                @for (star of [1, 2, 3, 4, 5]; track star) {
                  <svg width="20" height="20" viewBox="0 0 24 24" [attr.fill]="star <= testimonial.rating ? 'currentColor' : 'none'" stroke="currentColor" stroke-width="1.5">
                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                  </svg>
                }
              </div>
            </div>
          </div>
          <p class="testimonial-text body-1" [class.truncated]="needsTruncate && !expanded">
            {{ testimonial.text }}
          </p>
          @if (needsTruncate) {
            <button 
              class="read-more-btn small-1" 
              (click)="toggleTestimonial(testimonialIndex)"
              type="button"
            >
              {{ expanded ? 'Read less' : 'Read more' }}
            </button>
          }
        </div>
      }
    </div>

    <!-- Navigation Arrows -->
    <button 
      type="button"
      class="nav-arrow nav-arrow-left"
      (click)="prevTestimonial()"
      aria-label="Previous testimonial"
    >
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="15 18 9 12 15 6"></polyline>
                  </svg>
            </button>
    
    <button 
      type="button"
      class="nav-arrow nav-arrow-right"
      (click)="nextTestimonial()"
      aria-label="Next testimonial"
    >
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="9 18 15 12 9 6"></polyline>
                  </svg>
            </button>

    <!-- Pagination Dots -->
    <div class="pagination-dots">
      @for (page of pagesArray; track page) {
        <button
          type="button"
          class="pagination-dot"
          [class.active]="currentPage === page"
          (click)="goToTestimonial(page)"
          [attr.aria-label]="'Go to page ' + (page + 1)"
        ></button>
      }
    </div>
  </div>
</section>

<!-- Important to know -->
<section class="program-important" aria-labelledby="program-important-title">
  <div class="container">
    <div class="important-content">
      <h2 id="program-important-title" class="section-title headline-1">Important to know</h2>
      <div class="important-text body-1">
        <p>
          This program supports health and vitality but does not replace medical care or clinical treatment.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- CTA Section -->
<section class="program-cta" aria-labelledby="program-cta-title">
  <div class="container">
    <div class="cta-content">
      <h2 id="program-cta-title" class="cta-title headline-1">Ready to get started?</h2>
      <app-button-primary-glass type="button" (clicked)="goToFreeIntake()">
        Book free intake
      </app-button-primary-glass>
    </div>
  </div>
</section>

