<!-- Hero Section -->
<section class="program-hero" aria-labelledby="program-hero-title">
  <div class="hero-decoration" aria-hidden="true"></div>
  <div class="hero-container">
    <h1 id="program-hero-title" class="hero-title display-1">
      {{ 'programs.prenatal.hero.titleLine1' | translate }}<br />
      {{ 'programs.prenatal.hero.titleLine2' | translate }}
    </h1>
    <p class="hero-subtitle featured-3">
      {{ 'programs.prenatal.hero.subtitle' | translate }}
    </p>
    <div class="hero-actions">
      <app-button-primary-glass type="button" (clicked)="goToFreeIntake()">
        {{ 'programs.prenatal.hero.ctaPrimary' | translate }}
      </app-button-primary-glass>
      <app-button-primary-glass type="button" variant="secondary" (clicked)="goToPrograms()">
        {{ 'programs.prenatal.hero.ctaSecondary' | translate }}
      </app-button-primary-glass>
    </div>
  </div>
</section>

<!-- What this program is about -->
<section class="program-about" aria-labelledby="program-about-title">
  <div class="container">
    <div class="program-about-content">
      <div class="program-about-text">
        <h2 id="program-about-title" class="section-title headline-1">{{ 'programs.prenatal.about.title' | translate }}</h2>
        <p class="section-intro body-1">
          {{ 'programs.prenatal.about.intro' | translate }}
        </p>
        <p class="section-body body-1">
          {{ 'programs.prenatal.about.p1' | translate }}
        </p>
        <p class="section-body body-1">
          {{ 'programs.prenatal.about.p2' | translate }}
        </p>
        <ul class="program-features-list">
          <li class="feature-item body-1">{{ 'programs.prenatal.about.features.0' | translate }}</li>
          <li class="feature-item body-1">{{ 'programs.prenatal.about.features.1' | translate }}</li>
          <li class="feature-item body-1">{{ 'programs.prenatal.about.features.2' | translate }}</li>
          <li class="feature-item body-1">{{ 'programs.prenatal.about.features.3' | translate }}</li>
        </ul>
      </div>
      <div class="program-about-media">
        <div class="media-placeholder">
          <img src="images/prenatal-postpartum.jpg" [attr.alt]="'programs.prenatal.about.imageAlt' | translate" class="content-image" />
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Who this is for -->
<section class="program-who" aria-labelledby="program-who-title">
  <div class="container">
    <h2 id="program-who-title" class="section-title headline-1">{{ 'programs.prenatal.who.title' | translate }}</h2>
    <div class="who-grid">
      <div class="who-item">
        <div class="who-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 6L9 17l-5-5"></path>
          </svg>
        </div>
        <p class="who-text body-1">{{ 'programs.prenatal.who.items.0' | translate }}</p>
      </div>
      <div class="who-item">
        <div class="who-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 6L9 17l-5-5"></path>
          </svg>
        </div>
        <p class="who-text body-1">{{ 'programs.prenatal.who.items.1' | translate }}</p>
      </div>
      <div class="who-item">
        <div class="who-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 6L9 17l-5-5"></path>
          </svg>
        </div>
        <p class="who-text body-1">{{ 'programs.prenatal.who.items.2' | translate }}</p>
      </div>
    </div>
  </div>
</section>

<!-- How we work -->
<section class="program-how" aria-labelledby="program-how-title">
  <div class="container">
    <h2 id="program-how-title" class="section-title headline-1">{{ 'programs.prenatal.how.title' | translate }}</h2>
    <div class="how-grid">
      <div class="how-item">
        <div class="how-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 6L9 17l-5-5"></path>
          </svg>
        </div>
        <p class="how-text body-1">{{ 'programs.prenatal.how.items.0' | translate }}</p>
      </div>
      <div class="how-item">
        <div class="how-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 6L9 17l-5-5"></path>
          </svg>
        </div>
        <p class="how-text body-1">{{ 'programs.prenatal.how.items.1' | translate }}</p>
      </div>
      <div class="how-item">
        <div class="how-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 6L9 17l-5-5"></path>
          </svg>
        </div>
        <p class="how-text body-1">{{ 'programs.prenatal.how.items.2' | translate }}</p>
      </div>
    </div>
  </div>
</section>

<!-- Feedback/Testimonials Section -->
<section class="testimonials" aria-labelledby="program-feedback-title">
  <div class="testimonials-container">
    <div class="feedback-header">
      <span class="feedback-kicker small-1">{{ 'programs.prenatal.feedback.kicker' | translate }}</span>
      <h2 id="program-feedback-title" class="testimonials-title headline-1">{{ 'programs.prenatal.feedback.title' | translate }}</h2>
      <p class="feedback-subtitle featured-3">{{ 'programs.prenatal.feedback.subtitle' | translate }}</p>
    </div>
    
    <div class="testimonials-content">
      @for (testimonial of currentTestimonials; track $index) {
        @let testimonialIndex = getTestimonialIndex(currentPage, $index);
        @let expanded = isExpanded(testimonialIndex);
        @let needsTruncate = needsTruncationKey(testimonial.textKey);
          <div class="testimonial-card">
            <div class="testimonial-header">
            <p class="testimonial-name strong-2">{{ testimonial.author }}</p>
              <div class="testimonial-rating">
                <div class="stars">
                @for (star of [1, 2, 3, 4, 5]; track star) {
                  <svg width="20" height="20" viewBox="0 0 24 24" [attr.fill]="star <= testimonial.rating ? 'currentColor' : 'none'" stroke="currentColor" stroke-width="1.5">
                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                  </svg>
                }
              </div>
            </div>
          </div>
          <p class="testimonial-text body-1" [class.truncated]="needsTruncate && !expanded">
            {{ testimonial.textKey | translate }}
          </p>
          @if (needsTruncate) {
            <button 
              class="read-more-btn small-1" 
              (click)="toggleTestimonial(testimonialIndex)"
              type="button"
            >
              {{ expanded ? (readLessKey | translate) : (readMoreKey | translate) }}
            </button>
          }
        </div>
      }
            </div>

    <!-- Navigation Arrows -->
    <button 
      type="button"
      class="nav-arrow nav-arrow-left"
      (click)="prevTestimonial()"
      [attr.aria-label]="prevAriaKey | translate"
    >
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="15 18 9 12 15 6"></polyline>
                  </svg>
            </button>
    
    <button 
      type="button"
      class="nav-arrow nav-arrow-right"
      (click)="nextTestimonial()"
      [attr.aria-label]="nextAriaKey | translate"
    >
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="9 18 15 12 9 6"></polyline>
                  </svg>
            </button>

    <!-- Pagination Dots -->
    <div class="pagination-dots">
      @for (page of pagesArray; track page) {
        <button
          type="button"
          class="pagination-dot"
          [class.active]="currentPage === page"
          (click)="goToTestimonial(page)"
          [attr.aria-label]="(goToAriaPrefixKey | translate) + ' ' + (page + 1)"
        ></button>
      }
    </div>
  </div>
</section>

<!-- Important to know -->
<section class="program-important" aria-labelledby="program-important-title">
  <div class="container">
    <div class="important-content">
      <h2 id="program-important-title" class="section-title headline-1">{{ 'programs.prenatal.important.title' | translate }}</h2>
      <div class="important-text body-1">
        <p>
          {{ 'programs.prenatal.important.p1' | translate }}
        </p>
        <p>
          {{ 'programs.prenatal.important.p2' | translate }}
        </p>
      </div>
    </div>
  </div>
</section>

<!-- CTA Section -->
<section class="program-cta" aria-labelledby="program-cta-title">
  <div class="container">
    <div class="cta-content">
      <h2 id="program-cta-title" class="cta-title headline-1">{{ 'programs.prenatal.cta.title' | translate }}</h2>
      <app-button-primary-glass type="button" (clicked)="goToFreeIntake()">
        {{ 'programs.prenatal.cta.cta' | translate }}
      </app-button-primary-glass>
    </div>
  </div>
</section>

